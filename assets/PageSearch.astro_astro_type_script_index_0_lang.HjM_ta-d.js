function de(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function F(s){return Array.isArray?Array.isArray(s):ae(s)==="[object Array]"}function pe(s){if(typeof s=="string")return s;let t=s+"";return t=="0"&&1/s==-1/0?"-0":t}function ge(s){return s==null?"":pe(s)}function w(s){return typeof s=="string"}function se(s){return typeof s=="number"}function me(s){return s===!0||s===!1||ve(s)&&ae(s)=="[object Boolean]"}function ie(s){return typeof s=="object"}function ve(s){return ie(s)&&s!==null}function R(s){return s!=null}function J(s){return!s.trim().length}function ae(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const ye="Incorrect 'index' type",Ee=s=>`Invalid value for key ${s}`,Ae=s=>`Pattern length exceeds max of ${s}.`,xe=s=>`Missing ${s} property in key`,Ce=s=>`Property 'weight' in key '${s}' must be a positive integer`,X=Object.prototype.hasOwnProperty;class Ie{constructor(t){this._keys=[],this._keyMap={};let i=0;t.forEach(c=>{let l=oe(c);this._keys.push(l),this._keyMap[l.id]=l,i+=l.weight}),this._keys.forEach(c=>{c.weight/=i})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function oe(s){let t=null,i=null,c=null,l=1,f=null;if(w(s)||F(s))c=s,t=Z(s),i=z(s);else{if(!X.call(s,"name"))throw new Error(xe("name"));const g=s.name;if(c=g,X.call(s,"weight")&&(l=s.weight,l<=0))throw new Error(Ce(g));t=Z(g),i=z(g),f=s.getFn}return{path:t,id:i,weight:l,src:c,getFn:f}}function Z(s){return F(s)?s:s.split(".")}function z(s){return F(s)?s.join("."):s}function Me(s,t){let i=[],c=!1;const l=(f,g,y)=>{if(R(f))if(!g[y])i.push(f);else{let v=g[y];const h=f[v];if(!R(h))return;if(y===g.length-1&&(w(h)||se(h)||me(h)))i.push(ge(h));else if(F(h)){c=!0;for(let o=0,e=h.length;o<e;o+=1)l(h[o],g,y+1)}else g.length&&l(h,g,y+1)}};return l(s,w(t)?t.split("."):t,0),c?i:i[0]}const ke={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Se={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,t)=>s.score===t.score?s.idx<t.idx?-1:1:s.score<t.score?-1:1},Re={location:0,threshold:.6,distance:100},Ne={useExtendedSearch:!1,getFn:Me,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var A={...Se,...ke,...Re,...Ne};const we=/[^ ]+/g;function Fe(s=1,t=3){const i=new Map,c=Math.pow(10,t);return{get(l){const f=l.match(we).length;if(i.has(f))return i.get(f);const g=1/Math.pow(f,.5*s),y=parseFloat(Math.round(g*c)/c);return i.set(f,y),y},clear(){i.clear()}}}class U{constructor({getFn:t=A.getFn,fieldNormWeight:i=A.fieldNormWeight}={}){this.norm=Fe(i,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((i,c)=>{this._keysMap[i.id]=c})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,w(this.docs[0])?this.docs.forEach((t,i)=>{this._addString(t,i)}):this.docs.forEach((t,i)=>{this._addObject(t,i)}),this.norm.clear())}add(t){const i=this.size();w(t)?this._addString(t,i):this._addObject(t,i)}removeAt(t){this.records.splice(t,1);for(let i=t,c=this.size();i<c;i+=1)this.records[i].i-=1}getValueForItemAtKeyId(t,i){return t[this._keysMap[i]]}size(){return this.records.length}_addString(t,i){if(!R(t)||J(t))return;let c={v:t,i,n:this.norm.get(t)};this.records.push(c)}_addObject(t,i){let c={i,$:{}};this.keys.forEach((l,f)=>{let g=l.getFn?l.getFn(t):this.getFn(t,l.path);if(R(g)){if(F(g)){let y=[];const v=[{nestedArrIndex:-1,value:g}];for(;v.length;){const{nestedArrIndex:h,value:o}=v.pop();if(R(o))if(w(o)&&!J(o)){let e={v:o,i:h,n:this.norm.get(o)};y.push(e)}else F(o)&&o.forEach((e,r)=>{v.push({nestedArrIndex:r,value:e})})}c.$[f]=y}else if(w(g)&&!J(g)){let y={v:g,n:this.norm.get(g)};c.$[f]=y}}}),this.records.push(c)}toJSON(){return{keys:this.keys,records:this.records}}}function ce(s,t,{getFn:i=A.getFn,fieldNormWeight:c=A.fieldNormWeight}={}){const l=new U({getFn:i,fieldNormWeight:c});return l.setKeys(s.map(oe)),l.setSources(t),l.create(),l}function Be(s,{getFn:t=A.getFn,fieldNormWeight:i=A.fieldNormWeight}={}){const{keys:c,records:l}=s,f=new U({getFn:t,fieldNormWeight:i});return f.setKeys(c),f.setIndexRecords(l),f}function T(s,{errors:t=0,currentLocation:i=0,expectedLocation:c=0,distance:l=A.distance,ignoreLocation:f=A.ignoreLocation}={}){const g=t/s.length;if(f)return g;const y=Math.abs(c-i);return l?g+y/l:y?1:g}function De(s=[],t=A.minMatchCharLength){let i=[],c=-1,l=-1,f=0;for(let g=s.length;f<g;f+=1){let y=s[f];y&&c===-1?c=f:!y&&c!==-1&&(l=f-1,l-c+1>=t&&i.push([c,l]),c=-1)}return s[f-1]&&f-c>=t&&i.push([c,f-1]),i}const D=32;function _e(s,t,i,{location:c=A.location,distance:l=A.distance,threshold:f=A.threshold,findAllMatches:g=A.findAllMatches,minMatchCharLength:y=A.minMatchCharLength,includeMatches:v=A.includeMatches,ignoreLocation:h=A.ignoreLocation}={}){if(t.length>D)throw new Error(Ae(D));const o=t.length,e=s.length,r=Math.max(0,Math.min(c,e));let n=f,a=r;const u=y>1||v,p=u?Array(e):[];let d;for(;(d=s.indexOf(t,a))>-1;){let I=T(t,{currentLocation:d,expectedLocation:r,distance:l,ignoreLocation:h});if(n=Math.min(I,n),a=d+o,u){let M=0;for(;M<o;)p[d+M]=1,M+=1}}a=-1;let m=[],E=1,x=o+e;const C=1<<o-1;for(let I=0;I<o;I+=1){let M=0,S=x;for(;M<S;)T(t,{errors:I,currentLocation:r+S,expectedLocation:r,distance:l,ignoreLocation:h})<=n?M=S:x=S,S=Math.floor((x-M)/2+M);x=S;let O=Math.max(1,r-S+1),W=g?e:Math.min(r+S,e)+o,_=Array(W+2);_[W+1]=(1<<I)-1;for(let N=W;N>=O;N-=1){let L=N-1,Q=i[s.charAt(L)];if(u&&(p[L]=+!!Q),_[N]=(_[N+1]<<1|1)&Q,I&&(_[N]|=(m[N+1]|m[N])<<1|1|m[N+1]),_[N]&C&&(E=T(t,{errors:I,currentLocation:L,expectedLocation:r,distance:l,ignoreLocation:h}),E<=n)){if(n=E,a=L,a<=r)break;O=Math.max(1,2*r-a)}}if(T(t,{errors:I+1,currentLocation:r,expectedLocation:r,distance:l,ignoreLocation:h})>n)break;m=_}const k={isMatch:a>=0,score:Math.max(.001,E)};if(u){const I=De(p,y);I.length?v&&(k.indices=I):k.isMatch=!1}return k}function be(s){let t={};for(let i=0,c=s.length;i<c;i+=1){const l=s.charAt(i);t[l]=(t[l]||0)|1<<c-i-1}return t}const P=String.prototype.normalize?s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):s=>s;class ue{constructor(t,{location:i=A.location,threshold:c=A.threshold,distance:l=A.distance,includeMatches:f=A.includeMatches,findAllMatches:g=A.findAllMatches,minMatchCharLength:y=A.minMatchCharLength,isCaseSensitive:v=A.isCaseSensitive,ignoreDiacritics:h=A.ignoreDiacritics,ignoreLocation:o=A.ignoreLocation}={}){if(this.options={location:i,threshold:c,distance:l,includeMatches:f,findAllMatches:g,minMatchCharLength:y,isCaseSensitive:v,ignoreDiacritics:h,ignoreLocation:o},t=v?t:t.toLowerCase(),t=h?P(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const e=(n,a)=>{this.chunks.push({pattern:n,alphabet:be(n),startIndex:a})},r=this.pattern.length;if(r>D){let n=0;const a=r%D,u=r-a;for(;n<u;)e(this.pattern.substr(n,D),n),n+=D;if(a){const p=r-D;e(this.pattern.substr(p),p)}}else e(this.pattern,0)}searchIn(t){const{isCaseSensitive:i,ignoreDiacritics:c,includeMatches:l}=this.options;if(t=i?t:t.toLowerCase(),t=c?P(t):t,this.pattern===t){let u={isMatch:!0,score:0};return l&&(u.indices=[[0,t.length-1]]),u}const{location:f,distance:g,threshold:y,findAllMatches:v,minMatchCharLength:h,ignoreLocation:o}=this.options;let e=[],r=0,n=!1;this.chunks.forEach(({pattern:u,alphabet:p,startIndex:d})=>{const{isMatch:m,score:E,indices:x}=_e(t,u,p,{location:f+d,distance:g,threshold:y,findAllMatches:v,minMatchCharLength:h,includeMatches:l,ignoreLocation:o});m&&(n=!0),r+=E,m&&x&&(e=[...e,...x])});let a={isMatch:n,score:n?r/this.chunks.length:1};return n&&l&&(a.indices=e),a}}class B{constructor(t){this.pattern=t}static isMultiMatch(t){return q(t,this.multiRegex)}static isSingleMatch(t){return q(t,this.singleRegex)}search(){}}function q(s,t){const i=s.match(t);return i?i[1]:null}class Oe extends B{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const i=t===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class Le extends B{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const c=t.indexOf(this.pattern)===-1;return{isMatch:c,score:c?0:1,indices:[0,t.length-1]}}}class Te extends B{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const i=t.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}class $e extends B{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const i=!t.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class Pe extends B{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const i=t.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class je extends B{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const i=!t.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,t.length-1]}}}class le extends B{constructor(t,{location:i=A.location,threshold:c=A.threshold,distance:l=A.distance,includeMatches:f=A.includeMatches,findAllMatches:g=A.findAllMatches,minMatchCharLength:y=A.minMatchCharLength,isCaseSensitive:v=A.isCaseSensitive,ignoreDiacritics:h=A.ignoreDiacritics,ignoreLocation:o=A.ignoreLocation}={}){super(t),this._bitapSearch=new ue(t,{location:i,threshold:c,distance:l,includeMatches:f,findAllMatches:g,minMatchCharLength:y,isCaseSensitive:v,ignoreDiacritics:h,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class he extends B{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let i=0,c;const l=[],f=this.pattern.length;for(;(c=t.indexOf(this.pattern,i))>-1;)i=c+f,l.push([c,i-1]);const g=!!l.length;return{isMatch:g,score:g?0:1,indices:l}}}const K=[Oe,he,Te,$e,je,Pe,Le,le],ee=K.length,We=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Je="|";function ze(s,t={}){return s.split(Je).map(i=>{let c=i.trim().split(We).filter(f=>f&&!!f.trim()),l=[];for(let f=0,g=c.length;f<g;f+=1){const y=c[f];let v=!1,h=-1;for(;!v&&++h<ee;){const o=K[h];let e=o.isMultiMatch(y);e&&(l.push(new o(e,t)),v=!0)}if(!v)for(h=-1;++h<ee;){const o=K[h];let e=o.isSingleMatch(y);if(e){l.push(new o(e,t));break}}}return l})}const Ke=new Set([le.type,he.type]);class Ye{constructor(t,{isCaseSensitive:i=A.isCaseSensitive,ignoreDiacritics:c=A.ignoreDiacritics,includeMatches:l=A.includeMatches,minMatchCharLength:f=A.minMatchCharLength,ignoreLocation:g=A.ignoreLocation,findAllMatches:y=A.findAllMatches,location:v=A.location,threshold:h=A.threshold,distance:o=A.distance}={}){this.query=null,this.options={isCaseSensitive:i,ignoreDiacritics:c,includeMatches:l,minMatchCharLength:f,findAllMatches:y,ignoreLocation:g,location:v,threshold:h,distance:o},t=i?t:t.toLowerCase(),t=c?P(t):t,this.pattern=t,this.query=ze(this.pattern,this.options)}static condition(t,i){return i.useExtendedSearch}searchIn(t){const i=this.query;if(!i)return{isMatch:!1,score:1};const{includeMatches:c,isCaseSensitive:l,ignoreDiacritics:f}=this.options;t=l?t:t.toLowerCase(),t=f?P(t):t;let g=0,y=[],v=0;for(let h=0,o=i.length;h<o;h+=1){const e=i[h];y.length=0,g=0;for(let r=0,n=e.length;r<n;r+=1){const a=e[r],{isMatch:u,indices:p,score:d}=a.search(t);if(u){if(g+=1,v+=d,c){const m=a.constructor.type;Ke.has(m)?y=[...y,...p]:y.push(p)}}else{v=0,g=0,y.length=0;break}}if(g){let r={isMatch:!0,score:v/g};return c&&(r.indices=y),r}}return{isMatch:!1,score:1}}}const Y=[];function Ge(...s){Y.push(...s)}function G(s,t){for(let i=0,c=Y.length;i<c;i+=1){let l=Y[i];if(l.condition(s,t))return new l(s,t)}return new ue(s,t)}const j={AND:"$and",OR:"$or"},H={PATH:"$path",PATTERN:"$val"},V=s=>!!(s[j.AND]||s[j.OR]),He=s=>!!s[H.PATH],Ve=s=>!F(s)&&ie(s)&&!V(s),te=s=>({[j.AND]:Object.keys(s).map(t=>({[t]:s[t]}))});function fe(s,t,{auto:i=!0}={}){const c=l=>{let f=Object.keys(l);const g=He(l);if(!g&&f.length>1&&!V(l))return c(te(l));if(Ve(l)){const v=g?l[H.PATH]:f[0],h=g?l[H.PATTERN]:l[v];if(!w(h))throw new Error(Ee(v));const o={keyId:z(v),pattern:h};return i&&(o.searcher=G(h,t)),o}let y={children:[],operator:f[0]};return f.forEach(v=>{const h=l[v];F(h)&&h.forEach(o=>{y.children.push(c(o))})}),y};return V(s)||(s=te(s)),c(s)}function Ue(s,{ignoreFieldNorm:t=A.ignoreFieldNorm}){s.forEach(i=>{let c=1;i.matches.forEach(({key:l,norm:f,score:g})=>{const y=l?l.weight:null;c*=Math.pow(g===0&&y?Number.EPSILON:g,(y||1)*(t?1:f))}),i.score=c})}function Qe(s,t){const i=s.matches;t.matches=[],R(i)&&i.forEach(c=>{if(!R(c.indices)||!c.indices.length)return;const{indices:l,value:f}=c;let g={indices:l,value:f};c.key&&(g.key=c.key.src),c.idx>-1&&(g.refIndex=c.idx),t.matches.push(g)})}function Xe(s,t){t.score=s.score}function Ze(s,t,{includeMatches:i=A.includeMatches,includeScore:c=A.includeScore}={}){const l=[];return i&&l.push(Qe),c&&l.push(Xe),s.map(f=>{const{idx:g}=f,y={item:t[g],refIndex:g};return l.length&&l.forEach(v=>{v(f,y)}),y})}class b{constructor(t,i={},c){this.options={...A,...i},this.options.useExtendedSearch,this._keyStore=new Ie(this.options.keys),this.setCollection(t,c)}setCollection(t,i){if(this._docs=t,i&&!(i instanceof U))throw new Error(ye);this._myIndex=i||ce(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){R(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const i=[];for(let c=0,l=this._docs.length;c<l;c+=1){const f=this._docs[c];t(f,c)&&(this.removeAt(c),c-=1,l-=1,i.push(f))}return i}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:i=-1}={}){const{includeMatches:c,includeScore:l,shouldSort:f,sortFn:g,ignoreFieldNorm:y}=this.options;let v=w(t)?w(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Ue(v,{ignoreFieldNorm:y}),f&&v.sort(g),se(i)&&i>-1&&(v=v.slice(0,i)),Ze(v,this._docs,{includeMatches:c,includeScore:l})}_searchStringList(t){const i=G(t,this.options),{records:c}=this._myIndex,l=[];return c.forEach(({v:f,i:g,n:y})=>{if(!R(f))return;const{isMatch:v,score:h,indices:o}=i.searchIn(f);v&&l.push({item:f,idx:g,matches:[{score:h,value:f,norm:y,indices:o}]})}),l}_searchLogical(t){const i=fe(t,this.options),c=(y,v,h)=>{if(!y.children){const{keyId:e,searcher:r}=y,n=this._findMatches({key:this._keyStore.get(e),value:this._myIndex.getValueForItemAtKeyId(v,e),searcher:r});return n&&n.length?[{idx:h,item:v,matches:n}]:[]}const o=[];for(let e=0,r=y.children.length;e<r;e+=1){const n=y.children[e],a=c(n,v,h);if(a.length)o.push(...a);else if(y.operator===j.AND)return[]}return o},l=this._myIndex.records,f={},g=[];return l.forEach(({$:y,i:v})=>{if(R(y)){let h=c(i,y,v);h.length&&(f[v]||(f[v]={idx:v,item:y,matches:[]},g.push(f[v])),h.forEach(({matches:o})=>{f[v].matches.push(...o)}))}}),g}_searchObjectList(t){const i=G(t,this.options),{keys:c,records:l}=this._myIndex,f=[];return l.forEach(({$:g,i:y})=>{if(!R(g))return;let v=[];c.forEach((h,o)=>{v.push(...this._findMatches({key:h,value:g[o],searcher:i}))}),v.length&&f.push({idx:y,item:g,matches:v})}),f}_findMatches({key:t,value:i,searcher:c}){if(!R(i))return[];let l=[];if(F(i))i.forEach(({v:f,i:g,n:y})=>{if(!R(f))return;const{isMatch:v,score:h,indices:o}=c.searchIn(f);v&&l.push({score:h,key:t,value:f,idx:g,norm:y,indices:o})});else{const{v:f,n:g}=i,{isMatch:y,score:v,indices:h}=c.searchIn(f);y&&l.push({score:v,key:t,value:f,norm:g,indices:h})}return l}}b.version="7.1.0";b.createIndex=ce;b.parseIndex=Be;b.config=A;b.parseQuery=fe;Ge(Ye);var $={exports:{}};/*!***************************************************
* mark.js v8.11.1
* https://markjs.io/
* Copyright (c) 2014–2018, Julian Kühnel
* Released under the MIT license https://git.io/vwTVl
*****************************************************/var qe=$.exports,ne;function et(){return ne||(ne=1,function(s,t){(function(i,c){s.exports=c()})(qe,function(){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},c=function(h,o){if(!(h instanceof o))throw new TypeError("Cannot call a class as a function")},l=function(){function h(o,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,e,r){return e&&h(o.prototype,e),r&&h(o,r),o}}(),f=Object.assign||function(h){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(h[r]=e[r])}return h},g=function(){function h(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5e3;c(this,h),this.ctx=o,this.iframes=e,this.exclude=r,this.iframesTimeout=n}return l(h,[{key:"getContexts",value:function(){var e=void 0,r=[];return typeof this.ctx>"u"||!this.ctx?e=[]:NodeList.prototype.isPrototypeOf(this.ctx)?e=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?e=this.ctx:typeof this.ctx=="string"?e=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):e=[this.ctx],e.forEach(function(n){var a=r.filter(function(u){return u.contains(n)}).length>0;r.indexOf(n)===-1&&!a&&r.push(n)}),r}},{key:"getIframeContents",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=void 0;try{var u=e.contentWindow;if(a=u.document,!u||!a)throw new Error("iframe inaccessible")}catch{n()}a&&r(a)}},{key:"isIframeBlank",value:function(e){var r="about:blank",n=e.getAttribute("src").trim(),a=e.contentWindow.location.href;return a===r&&n!==r&&n}},{key:"observeIframeLoad",value:function(e,r,n){var a=this,u=!1,p=null,d=function m(){if(!u){u=!0,clearTimeout(p);try{a.isIframeBlank(e)||(e.removeEventListener("load",m),a.getIframeContents(e,r,n))}catch{n()}}};e.addEventListener("load",d),p=setTimeout(d,this.iframesTimeout)}},{key:"onIframeReady",value:function(e,r,n){try{e.contentWindow.document.readyState==="complete"?this.isIframeBlank(e)?this.observeIframeLoad(e,r,n):this.getIframeContents(e,r,n):this.observeIframeLoad(e,r,n)}catch{n()}}},{key:"waitForIframes",value:function(e,r){var n=this,a=0;this.forEachIframe(e,function(){return!0},function(u){a++,n.waitForIframes(u.querySelector("html"),function(){--a||r()})},function(u){u||r()})}},{key:"forEachIframe",value:function(e,r,n){var a=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},p=e.querySelectorAll("iframe"),d=p.length,m=0;p=Array.prototype.slice.call(p);var E=function(){--d<=0&&u(m)};d||E(),p.forEach(function(x){h.matches(x,a.exclude)?E():a.onIframeReady(x,function(C){r(x)&&(m++,n(C)),E()},E)})}},{key:"createIterator",value:function(e,r,n){return document.createNodeIterator(e,r,n,!1)}},{key:"createInstanceOnIframe",value:function(e){return new h(e.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(e,r,n){var a=e.compareDocumentPosition(n),u=Node.DOCUMENT_POSITION_PRECEDING;if(a&u)if(r!==null){var p=r.compareDocumentPosition(n),d=Node.DOCUMENT_POSITION_FOLLOWING;if(p&d)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(e){var r=e.previousNode(),n=void 0;return r===null?n=e.nextNode():n=e.nextNode()&&e.nextNode(),{prevNode:r,node:n}}},{key:"checkIframeFilter",value:function(e,r,n,a){var u=!1,p=!1;return a.forEach(function(d,m){d.val===n&&(u=m,p=d.handled)}),this.compareNodeIframe(e,r,n)?(u===!1&&!p?a.push({val:n,handled:!0}):u!==!1&&!p&&(a[u].handled=!0),!0):(u===!1&&a.push({val:n,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(e,r,n,a){var u=this;e.forEach(function(p){p.handled||u.getIframeContents(p.val,function(d){u.createInstanceOnIframe(d).forEachNode(r,n,a)})})}},{key:"iterateThroughNodes",value:function(e,r,n,a,u){for(var p=this,d=this.createIterator(r,e,a),m=[],E=[],x=void 0,C=void 0,k=function(){var M=p.getIteratorNode(d);return C=M.prevNode,x=M.node,x};k();)this.iframes&&this.forEachIframe(r,function(I){return p.checkIframeFilter(x,C,I,m)},function(I){p.createInstanceOnIframe(I).forEachNode(e,function(M){return E.push(M)},a)}),E.push(x);E.forEach(function(I){n(I)}),this.iframes&&this.handleOpenIframes(m,e,n,a),u()}},{key:"forEachNode",value:function(e,r,n){var a=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},p=this.getContexts(),d=p.length;d||u(),p.forEach(function(m){var E=function(){a.iterateThroughNodes(e,m,r,n,function(){--d<=0&&u()})};a.iframes?a.waitForIframes(m,E):E()})}}],[{key:"matches",value:function(e,r){var n=typeof r=="string"?[r]:r,a=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(a){var u=!1;return n.every(function(p){return a.call(e,p)?(u=!0,!1):!0}),u}else return!1}}]),h}(),y=function(){function h(o){c(this,h),this.ctx=o,this.ie=!1;var e=window.navigator.userAgent;(e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1)&&(this.ie=!0)}return l(h,[{key:"log",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"debug",n=this.opt.log;this.opt.debug&&(typeof n>"u"?"undefined":i(n))==="object"&&typeof n[r]=="function"&&n[r]("mark.js: "+e)}},{key:"escapeStr",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(e){return this.opt.wildcards!=="disabled"&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),this.opt.wildcards!=="disabled"&&(e=this.createWildcardsRegExp(e)),e=this.createAccuracyRegExp(e),e}},{key:"createSynonymsRegExp",value:function(e){var r=this.opt.synonyms,n=this.opt.caseSensitive?"":"i",a=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var u in r)if(r.hasOwnProperty(u)){var p=r[u],d=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(u):this.escapeStr(u),m=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(p):this.escapeStr(p);d!==""&&m!==""&&(e=e.replace(new RegExp("("+this.escapeStr(d)+"|"+this.escapeStr(m)+")","gm"+n),a+("("+this.processSynomyms(d)+"|")+(this.processSynomyms(m)+")")+a))}return e}},{key:"processSynomyms",value:function(e){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),e}},{key:"setupWildcardsRegExp",value:function(e){return e=e.replace(/(?:\\)*\?/g,function(r){return r.charAt(0)==="\\"?"?":""}),e.replace(/(?:\\)*\*/g,function(r){return r.charAt(0)==="\\"?"*":""})}},{key:"createWildcardsRegExp",value:function(e){var r=this.opt.wildcards==="withSpaces";return e.replace(/\u0001/g,r?"[\\S\\s]?":"\\S?").replace(/\u0002/g,r?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(e){return e.replace(/[^(|)\\]/g,function(r,n,a){var u=a.charAt(n+1);return/[(|)\\]/.test(u)||u===""?r:r+"\0"})}},{key:"createJoinersRegExp",value:function(e){var r=[],n=this.opt.ignorePunctuation;return Array.isArray(n)&&n.length&&r.push(this.escapeStr(n.join(""))),this.opt.ignoreJoiners&&r.push("\\u00ad\\u200b\\u200c\\u200d"),r.length?e.split(/\u0000+/).join("["+r.join("")+"]*"):e}},{key:"createDiacriticsRegExp",value:function(e){var r=this.opt.caseSensitive?"":"i",n=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],a=[];return e.split("").forEach(function(u){n.every(function(p){if(p.indexOf(u)!==-1){if(a.indexOf(p)>-1)return!1;e=e.replace(new RegExp("["+p+"]","gm"+r),"["+p+"]"),a.push(p)}return!0})}),e}},{key:"createMergedBlanksRegExp",value:function(e){return e.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(e){var r=this,n="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿",a=this.opt.accuracy,u=typeof a=="string"?a:a.value,p=typeof a=="string"?[]:a.limiters,d="";switch(p.forEach(function(m){d+="|"+r.escapeStr(m)}),u){case"partially":default:return"()("+e+")";case"complementary":return d="\\s"+(d||this.escapeStr(n)),"()([^"+d+"]*"+e+"[^"+d+"]*)";case"exactly":return"(^|\\s"+d+")("+e+")(?=$|\\s"+d+")"}}},{key:"getSeparatedKeywords",value:function(e){var r=this,n=[];return e.forEach(function(a){r.opt.separateWordSearch?a.split(" ").forEach(function(u){u.trim()&&n.indexOf(u)===-1&&n.push(u)}):a.trim()&&n.indexOf(a)===-1&&n.push(a)}),{keywords:n.sort(function(a,u){return u.length-a.length}),length:n.length}}},{key:"isNumeric",value:function(e){return Number(parseFloat(e))==e}},{key:"checkRanges",value:function(e){var r=this;if(!Array.isArray(e)||Object.prototype.toString.call(e[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(e),[];var n=[],a=0;return e.sort(function(u,p){return u.start-p.start}).forEach(function(u){var p=r.callNoMatchOnInvalidRanges(u,a),d=p.start,m=p.end,E=p.valid;E&&(u.start=d,u.length=m-d,n.push(u),a=m)}),n}},{key:"callNoMatchOnInvalidRanges",value:function(e,r){var n=void 0,a=void 0,u=!1;return e&&typeof e.start<"u"?(n=parseInt(e.start,10),a=n+parseInt(e.length,10),this.isNumeric(e.start)&&this.isNumeric(e.length)&&a-r>0&&a-n>0?u=!0:(this.log("Ignoring invalid or overlapping range: "+(""+JSON.stringify(e))),this.opt.noMatch(e))):(this.log("Ignoring invalid range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:n,end:a,valid:u}}},{key:"checkWhitespaceRanges",value:function(e,r,n){var a=void 0,u=!0,p=n.length,d=r-p,m=parseInt(e.start,10)-d;return m=m>p?p:m,a=m+parseInt(e.length,10),a>p&&(a=p,this.log("End range automatically set to the max value of "+p)),m<0||a-m<0||m>p||a>p?(u=!1,this.log("Invalid range: "+JSON.stringify(e)),this.opt.noMatch(e)):n.substring(m,a).replace(/\s+/g,"")===""&&(u=!1,this.log("Skipping whitespace only range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:m,end:a,valid:u}}},{key:"getTextNodes",value:function(e){var r=this,n="",a=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(u){a.push({start:n.length,end:(n+=u.textContent).length,node:u})},function(u){return r.matchesExclude(u.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){e({value:n,nodes:a})})}},{key:"matchesExclude",value:function(e){return g.matches(e,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(e,r,n){var a=this.opt.element?this.opt.element:"mark",u=e.splitText(r),p=u.splitText(n-r),d=document.createElement(a);return d.setAttribute("data-markjs","true"),this.opt.className&&d.setAttribute("class",this.opt.className),d.textContent=u.textContent,u.parentNode.replaceChild(d,u),p}},{key:"wrapRangeInMappedTextNode",value:function(e,r,n,a,u){var p=this;e.nodes.every(function(d,m){var E=e.nodes[m+1];if(typeof E>"u"||E.start>r){if(!a(d.node))return!1;var x=r-d.start,C=(n>d.end?d.end:n)-d.start,k=e.value.substr(0,d.start),I=e.value.substr(C+d.start);if(d.node=p.wrapRangeInTextNode(d.node,x,C),e.value=k+I,e.nodes.forEach(function(M,S){S>=m&&(e.nodes[S].start>0&&S!==m&&(e.nodes[S].start-=C),e.nodes[S].end-=C)}),n-=C,u(d.node.previousSibling,d.start),n>d.end)r=d.end;else return!1}return!0})}},{key:"wrapMatches",value:function(e,r,n,a,u){var p=this,d=r===0?0:r+1;this.getTextNodes(function(m){m.nodes.forEach(function(E){E=E.node;for(var x=void 0;(x=e.exec(E.textContent))!==null&&x[d]!=="";)if(n(x[d],E)){var C=x.index;if(d!==0)for(var k=1;k<d;k++)C+=x[k].length;E=p.wrapRangeInTextNode(E,C,C+x[d].length),a(E.previousSibling),e.lastIndex=0}}),u()})}},{key:"wrapMatchesAcrossElements",value:function(e,r,n,a,u){var p=this,d=r===0?0:r+1;this.getTextNodes(function(m){for(var E=void 0;(E=e.exec(m.value))!==null&&E[d]!=="";){var x=E.index;if(d!==0)for(var C=1;C<d;C++)x+=E[C].length;var k=x+E[d].length;p.wrapRangeInMappedTextNode(m,x,k,function(I){return n(E[d],I)},function(I,M){e.lastIndex=M,a(I)})}u()})}},{key:"wrapRangeFromIndex",value:function(e,r,n,a){var u=this;this.getTextNodes(function(p){var d=p.value.length;e.forEach(function(m,E){var x=u.checkWhitespaceRanges(m,d,p.value),C=x.start,k=x.end,I=x.valid;I&&u.wrapRangeInMappedTextNode(p,C,k,function(M){return r(M,m,p.value.substring(C,k),E)},function(M){n(M,m)})}),a()})}},{key:"unwrapMatches",value:function(e){for(var r=e.parentNode,n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.removeChild(e.firstChild));r.replaceChild(n,e),this.ie?this.normalizeTextNode(r):r.normalize()}},{key:"normalizeTextNode",value:function(e){if(e){if(e.nodeType===3)for(;e.nextSibling&&e.nextSibling.nodeType===3;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else this.normalizeTextNode(e.firstChild);this.normalizeTextNode(e.nextSibling)}}},{key:"markRegExp",value:function(e,r){var n=this;this.opt=r,this.log('Searching with expression "'+e+'"');var a=0,u="wrapMatches",p=function(m){a++,n.opt.each(m)};this.opt.acrossElements&&(u="wrapMatchesAcrossElements"),this[u](e,this.opt.ignoreGroups,function(d,m){return n.opt.filter(m,d,a)},p,function(){a===0&&n.opt.noMatch(e),n.opt.done(a)})}},{key:"mark",value:function(e,r){var n=this;this.opt=r;var a=0,u="wrapMatches",p=this.getSeparatedKeywords(typeof e=="string"?[e]:e),d=p.keywords,m=p.length,E=this.opt.caseSensitive?"":"i",x=function C(k){var I=new RegExp(n.createRegExp(k),"gm"+E),M=0;n.log('Searching with expression "'+I+'"'),n[u](I,1,function(S,O){return n.opt.filter(O,k,a,M)},function(S){M++,a++,n.opt.each(S)},function(){M===0&&n.opt.noMatch(k),d[m-1]===k?n.opt.done(a):C(d[d.indexOf(k)+1])})};this.opt.acrossElements&&(u="wrapMatchesAcrossElements"),m===0?this.opt.done(a):x(d[0])}},{key:"markRanges",value:function(e,r){var n=this;this.opt=r;var a=0,u=this.checkRanges(e);u&&u.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(u)),this.wrapRangeFromIndex(u,function(p,d,m,E){return n.opt.filter(p,d,m,E)},function(p,d){a++,n.opt.each(p,d)},function(){n.opt.done(a)})):this.opt.done(a)}},{key:"unmark",value:function(e){var r=this;this.opt=e;var n=this.opt.element?this.opt.element:"*";n+="[data-markjs]",this.opt.className&&(n+="."+this.opt.className),this.log('Removal selector "'+n+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(a){r.unwrapMatches(a)},function(a){var u=g.matches(a,n),p=r.matchesExclude(a);return!u||p?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(e){this._opt=f({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},e)},get:function(){return this._opt}},{key:"iterator",get:function(){return new g(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),h}();function v(h){var o=this,e=new y(h);return this.mark=function(r,n){return e.mark(r,n),o},this.markRegExp=function(r,n){return e.markRegExp(r,n),o},this.markRanges=function(r,n){return e.markRanges(r,n),o},this.unmark=function(r){return e.unmark(r),o},this}return v})}($)),$.exports}var tt=et();const re=de(tt);document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("pageSearch"),t=document.getElementById("searchControls"),i=document.getElementById("matchCount"),c=document.getElementById("prevMatch"),l=document.getElementById("nextMatch"),f=document.getElementById("stickySearch"),g=document.querySelector("main");if(!s||!t||!i||!c||!l||!g){console.error("Search component: Required DOM elements not found");return}const y=new re(g);let v=0,h=0;function o(){const m=Array.from(g.querySelectorAll("h1, h2, h3, h4, h5, h6")),E=Array.from(g.querySelectorAll("p, li, td, th, a, span"));return[...m,...E].map(C=>({element:C,text:C.textContent||""}))}const e=o(),r=new b(e,{keys:["text"],includeMatches:!0,isCaseSensitive:!1,threshold:.2,distance:150,minMatchCharLength:2,ignoreLocation:!0});function n(m){if(y.unmark(),v=0,h=0,!m.trim()||m.length<2){t.classList.add("opacity-0","pointer-events-none"),y.unmark();return}t.classList.remove("opacity-0","pointer-events-none");const E=r.search(m);h=E.length,i.textContent=h>0?`1 of ${h}`:"0 matches",c.disabled=h===0||v===0,l.disabled=h===0||v===h-1,h>0&&(E.forEach(x=>{const C=x.item.element;new re(C).mark(m,{accuracy:"partially",separateWordSearch:!1,exclude:[".page-search","script","style","code","pre"]})}),a(0))}function a(m){const E=document.querySelectorAll("mark");E.length!==0&&(m<0&&(m=0),m>=E.length&&(m=E.length-1),v=m,E.forEach(x=>x.classList.remove("current-match")),E[v].classList.add("current-match"),i.textContent=`${v+1} of ${E.length}`,c.disabled=v===0,l.disabled=v===E.length-1,E[v].scrollIntoView({behavior:"smooth",block:"center"}))}function u(){window.scrollY>0?f.classList.add("search-compact"):f.classList.remove("search-compact")}function p(m,E){let x;return function(...C){clearTimeout(x),x=setTimeout(()=>m(...C),E)}}const d=p(n,300);s.addEventListener("input",m=>{const E=m.target;d(E.value)}),c.addEventListener("click",()=>{v>0&&a(v-1)}),l.addEventListener("click",()=>{v<h-1&&a(v+1)}),s.addEventListener("keydown",m=>{m.key==="Enter"&&(m.preventDefault(),m.shiftKey?v>0&&a(v-1):v<h-1?a(v+1):h>0&&a(0)),m.key==="Escape"&&(s.value="",n(""))}),window.addEventListener("scroll",u),u()});
